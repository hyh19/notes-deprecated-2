# [第十三章、Linux 帳號管理與 ACL 權限設定](http://linux.vbird.org/linux_basic/0410accountmanager.php)

---

[TOC]

## 13.1 Linux 的帳號與群組

相关文件

- `/etc/passwd` 记录账号和 UID、GID、主目录等的对应关系
- `/etc/shadow` 记录账号和密码的对应关系
- `/etc/group` 记录群组和 GID 的对应关系

```bash
$ cat /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin

$ cat /etc/shadow
root:*:16176:0:99999:7:::
bin:*:17110:0:99999:7:::
daemon:*:17110:0:99999:7:::
```

```bash
$ cat /etc/group
root:x:0:
bin:x:1:
daemon:x:2:
```

### 13.1.1 使用者識別碼： UID 與 GID

查看账号信息

```bash
$ id root
uid=0(root) gid=0(root) groups=0(root)
```

### 13.1.2 使用者帳號

`/etc/passwd` 记录结构，以 `bin:x:1:1:bin:/bin:/sbin/nologin` 为例。

第 1 栏 | 第 2 栏 | 第 3 栏 | 第 4 栏 | 第 5 栏 | 第 6 栏 | 第 7 栏
--- | --- | --- | --- | --- | --- | ---
账号 | 密码占位符（历史遗留） | UID | GID | 账号描述 | 主目录 | shell

UID 的范围及角色分配

范围 | 角色
--- | ---
0 | 系统管理员
1~999 | 系统账号
1000~60000 | 一般账号

`/etc/shadow` 的记录结构，以 `root:$6$wtbCCce/PxMeE5wm$KE2IfSJr.YLP7Rcai6oa/T7KFhO...:16559:0:99999:7:::` 为例。

第 1 栏 | 第 2 栏 | 第 3 栏 | 第 4 栏 | 第 5 栏 | 第 6 栏 | 第 7 栏 | 第 8 栏 | 第 9 栏
--- | --- | --- | --- | --- | --- | --- | --- | ---
账号 | 密码 | 最近一次修改密码的日期 | 最近一次修改密码后，下一次修改密码至少要隔多少天，0 表示随时可改。 | 最近一次修改密码后，强制多少天内必须重新修改密码，不修改密码将过期。 | 强制修改密码的最后期限几天前警告用户 | 密码过期后允许宽限几天 | 账号失效日期 | 保留位